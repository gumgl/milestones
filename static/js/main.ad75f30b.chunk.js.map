{"version":3,"sources":["Sequences.js","DateTimeSelector.js","SequenceSelector.js","ICalGenerator.js","MilestonesList.js","Share.js","App.js","reportWebVitals.js","index.js"],"names":["Generator","f","gi","list","c","next","done","value","push","n","Sequences","id","name","friendlyName","oeis","gf","Math","pow","display","item","toLocaleString","explain","base","a","m","nextTerm","term","prev","result","i","length","params","b","Number","timeZones","getTimeZones","DateTimeSelector","props","Box","process","utils","LuxonUtils","refDate","onChange","date","isValid","dateTime","set","year","get","month","day","setZone","refTimeZone","keepLocalTime","setRefDate","format","disableFuture","hideTabs","autoOk","minDate","Date","maxDate","openTo","label","inputVariant","fullWidth","style","backgroundColor","className","classes","input","Accordion","expanded","useTimePrecision","e","setUseTimePrecision","variant","AccordionSummary","expandIcon","Typography","heading","AccordionDetails","width","TimeZonePicker","event","setRefTimeZone","time","hour","minute","second","minutesStep","filterOptions","createFilterOptions","stringify","option","rawFormat","Autocomplete","options","getOptionLabel","noOptionsText","renderInput","TextField","SequenceSelector","map","s","SequenceOption","sequence","sequenceOptions","setSequenceOption","List","ListItem","onClick","dense","button","ListItemIcon","Checkbox","checked","edge","tabIndex","disableRipple","ListItemText","primary","ListItemSecondaryAction","Tooltip","title","placement","IconButton","aria-label","href","target","useStyles","makeStyles","theme","eventPreview","minWidth","bullet","margin","transform","subtitleContainer","flexDirection","justifyContent","alignContent","pos","marginBottom","description","whiteSpace","ICalGenerator","useTheme","fullScreen","useMediaQuery","breakpoints","down","useState","open","setOpen","titlePattern","setTitlePattern","handleClose","Button","color","startIcon","disabled","milestones","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","Link","rel","EventPreview","milestone","DialogActions","DownloadButton","autoFocus","iCalText","zoneName","uid","generateDateComponent","DateTime","now","generateTextComponent","generateEventTitle","generateEventDescription","generateEvent","join","replaceAll","blob","Blob","type","url","window","URL","createObjectURL","size","download","Card","CardContent","padding","Grid","container","spacing","xs","align","CardActions","component","generateReadableDate","utc","iCalDateTimeFormat","toUpperCase","toFormat","text","replace","match","pattern","explanation","dateFormat","MilestonesList","dateFilter","unit","offSetFromNow","isUpperBound","candidate","plus","limit","local","isNaN","error","RangeError","years","filter","months","localTimeZone","toSeconds","concat","sort","computeMilestones","Milestone","wolframAlphaURL","encodeURIComponent","secondary","closeButton","position","right","top","palette","grey","shortDateOnlyFormat","shortDatetimeFormat","ShareModal","shareConfig","setShareConfig","snackbarOpen","setSnackbarOpen","snackbarText","setSnackbarText","shareText","shareURL","location","searchParams","arr","binaryString","reverse","toString","parseInt","boolArrayToHex","Array","from","values","generateShareURL","shareURLInputRef","useRef","useEffect","current","focus","select","showSnackbar","webShare","navigator","share","inputRef","multiline","rowsMax","InputProps","onFocus","preventDefault","fontSize","endAdornment","InputAdornment","success","failure","clipboard","writeText","then","FormControlLabel","control","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","message","parseShareURL","setRefTimeZoneByName","setTimePrecision","setSequenceOptions","has","fromFormat","timeZone","hex","newMap","Map","keys","Symbol","iterator","mapIter","valIter","key","setMapValues","requiredLength","paddingValue","split","fill","slice","hexToBoolArray","Intl","DateTimeFormat","resolvedOptions","paper","marginTop","alignItems","root","background","App","find","zone","initValue","setMap","setValue","useMapState","search","history","replaceState","StrictMode","Container","maxWidth","CssBaseline","mt","Footer","src","data-name","data-slug","data-color","data-emoji","data-font","data-text","data-outline-color","data-font-color","data-coffee-color","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ad75f30b.chunk.js","sourcesContent":["export const Generator =\n{\n  map: (f, gf) => function* (...args) {\n    for (const x of gf(...args))\n      yield f(x)\n  },\n  filter: (f, gf) => function* (...args) {\n    for (const x of gf(...args))\n      if (f(x))\n        yield x\n  },\n  take: function (n, gi) {\n    let list = [];\n    for (let i = 0, c = gi.next();\n      !c.done && i < n;\n      i++, c = gi.next())\n      list[i] = c.value;\n    return list;\n  },\n  takeWhile: function (f, gi) {\n    let list = [];\n    for (let c = gi.next();\n      !c.done && f(c.value);\n      c = gi.next())\n      list.push(c.value);\n    return list;\n  },\n  nth: function (n) {\n    return [, 'st', 'nd', 'rd'][n / 10 % 10 ^ 1 && n % 10] || 'th'\n  } // credit to https://stackoverflow.com/a/39466341/646562\n};\n\nexport const Sequences = [\n  {\n    id: \"powers10\",\n    name: \"10^n\",\n    friendlyName: \"10, 100, 1000, 10000, ...\",\n    oeis: \"A011557\",\n    gf: function* () {\n      for (let n = 1; ; n++)\n        yield { value: Math.pow(10, n), n: n };\n    },\n    display: (item) => item.value.toLocaleString(),//\"10^\" + item.params[0]\n    explain: (item) => \"The first (decimal) number with \" + (item.n + 1) + \" digits\",\n  },\n  {\n    id: \"powers2\",\n    name: \"2^n\",\n    friendlyName: \"2, 256, 4096, ... (powers of 2)\",\n    oeis: \"A000079\",\n    gf: function* () {\n      for (let n = 1; ; n++)\n        yield { value: Math.pow(2, n), n: n };\n    },\n    display: (item) => \"2^\" + item.n,\n    explain: (item) => \"2^\" + item.n + \" = \" + item.value.toLocaleString(),\n  },\n  {\n    id: \"repdigit\",\n    name: \"[a]^n (repeated digits)\",\n    friendlyName: \"11111, 222, 5555, ... (repeated digits)\",\n    oeis: \"A010785\",\n    gf: function* () {\n      for (let n = 1, base = 1; ; base = base * 10 + 1, n++)\n        for (let a = 1; a <= 9; a++)\n          yield { value: base * a, a: a, n: n };\n    },\n    display: (item) => item.value.toLocaleString(),\n    explain: (item) => item.a + \" repeated \" + item.n + \" times\",\n  },\n  {\n    id: \"n10x\",\n    name: \"a * 10^n (for small a)\",\n    friendlyName: \"2000, 30000, 800 ... (many zeroes)\",\n    oeis: \"A037124\",\n    gf: function* () {\n      for (let n = 1; ; n++)\n        for (let a = 2; a <= 9; a++)\n          yield {\n            value: a * Math.pow(10, n),\n            a: a,\n            n: n,\n          };\n    },\n    display: (item) => item.value.toLocaleString(),\n    explain: (item) => item.a + \" followed by \" + item.n + \" zeroes\",\n  },\n  {\n    id: \"factorial\",\n    name: \"n! (factorial)\",\n    friendlyName: \"4!, 5!, 9!, .. (factorials)\",\n    oeis: \"A005150\",\n    gf: function* () {\n      for (let n = 1, m = 1; ; n++, m *= n)\n        yield { value: m, n: n };\n    },\n    display: (item) => item.n + \"!\",\n    explain: (item) => item.n + \"*\" + (item.n - 1) + \"*...*2*1 = \" + item.value.toLocaleString()\n  },\n  {\n    id: \"lookandsay\",\n    name: \"Look-and-say terms\",\n    friendlyName: \"Look-and-say sequence\",\n    oeis: \"A005150\",\n    gf: function* () {\n      let nextTerm = (term) => {\n        let result = \"\";\n        for (let i = 0, c = 0, prev; i < term.length; i++) {\n          if (c === 0 || term[i] !== prev) {\n            if (c !== 0)\n              result += \"\" + c + prev;\n            prev = term[i];\n            c = 1;\n          } else\n            c++;\n          if (i === term.length - 1)\n            result += \"\" + c + prev;\n        }\n        return result;\n      };\n      for (let term = \"1\"; ; term = nextTerm(term))\n        yield { value: term };\n    },\n    display: (item) => item.value,\n    explain: (item) => \"See OEIS page of the look-and-say sequence :)\"\n  },\n  {\n    id: \"fib\",\n    name: \"Fibonacci numbers\",\n    friendlyName: \"1, 1, 2, 3, 5, 8, ... (Fibonacci)\",\n    oeis: \"A000045\",\n    gf: function* () {\n      yield { value: 0, params: [] };\n      yield { value: 1, params: [] };\n      for (let a = 0, b = 1, n = 1; ; b = a + b, a = b - a, n++)\n        yield { value: a + b, n: n };\n    },\n    display: (item) => \"F_\" + item.n,\n    explain: (item) => item.n + Generator.nth(item.n) + \" Fibonacci number = \" + item.value.toLocaleString()\n  },\n  {\n    id: \"1ton\",\n    name: \"[1..n] for n-digit numbers\",\n    friendlyName: \"12, 123, 1234, ...\",\n    oeis: \"A007908\",\n    gf: function* () {\n      for (let n = 1, term = \"1\"; ; n++, term += n)\n        yield { value: Number(term), n: n };\n    },\n    display: (item) => item.value.toLocaleString(),\n    explain: (item) => \"All the digits from 1 up to \" + item.n\n  },\n  {\n    id: \"nto1\",\n    name: \"[n..1] for n-digit numbers\",\n    friendlyName: \"21, 321, 4321, ...\",\n    oeis: \"A000422\",\n    gf: function* () {\n      for (let n = 1, term = \"1\"; ; n++, term = n + term)\n        yield { value: Number(term), n: n };\n    },\n    display: (item) => item.value.toLocaleString(),\n    explain: (item) => \"All the digits from \" + item.n + \" down to 1\"\n  },\n];","import React from 'react';\n\nimport LuxonUtils from '@date-io/luxon';\nimport { getTimeZones } from \"@vvo/tzdb\";\n\nimport {\n  KeyboardDatePicker,\n  KeyboardTimePicker,\n  MuiPickersUtilsProvider,\n} from '@material-ui/pickers';\n\nimport TextField from '@material-ui/core/TextField';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\n\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\n\nimport Autocomplete, { createFilterOptions } from '@material-ui/lab/Autocomplete';\n\nconst timeZones = getTimeZones();\n\nexport function DateTimeSelector(props) {\n\n  const onRefDateChange = (date, value) => {\n    if (date != null && date.isValid) {\n      const dateTime = props.refDate.set({\n        year: date.get(\"year\"),\n        month: date.get(\"month\"),\n        day: date.get(\"day\")\n      }).setZone(props.refTimeZone.name, { keepLocalTime: true });\n\n      props.setRefDate(dateTime);\n    }\n  }\n\n  const onRefTimeChange = (time, value) => {\n    /* This is a bug where typing in a time in KeyboardTimePicker somehow disregards .value\n     attribute's date part and sets the time on today. This does not happen using the graphical picker.\n     Fix: We take extract the time and set it on {props.refDate}. */\n\n    if (time != null && time.isValid) {\n      const dateTime = props.refDate.set({\n        hour: time.get(\"hour\"),\n        minute: time.get(\"minute\"),\n        second: time.get(\"second\")\n      }).setZone(props.refTimeZone.name, { keepLocalTime: true });\n\n      props.setRefDate(dateTime);\n    }\n  }\n\n  const onRefTimeZoneChange = (event, value) => {\n    if (value != null) {\n      props.setRefTimeZone(value);\n      props.setRefDate(props.refDate.setZone(value.name, { keepLocalTime: true }));\n    }\n  }\n\n  return (\n    <Box>\n      {process.env.NODE_ENV === \"development\" &&\n        <p>RefDate:{props.refDate.toString()} [{props.refTimeZone?.name ?? \"Null\"}]</p>}\n      <MuiPickersUtilsProvider utils={LuxonUtils}>\n        <KeyboardDatePicker\n          value={props.refDate}\n          onChange={onRefDateChange}\n          format=\"yyyy-MM-dd\"\n          disableFuture\n          hideTabs\n          autoOk\n          minDate={new Date(1910, 1, 1)}\n          maxDate={new Date(2009, 11, 31)}\n          openTo=\"year\"\n          label=\"Date of birth\"\n          inputVariant=\"outlined\"\n          fullWidth\n          style={{ backgroundColor: \"#FFF\" }}\n          className={props.classes.input}\n        />\n        <Accordion\n          expanded={props.useTimePrecision}\n          onChange={e => props.setUseTimePrecision(!props.useTimePrecision)}\n          variant=\"outlined\"\n          className={props.classes.input}>\n          <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n            <Typography className={props.classes.heading}>Time-of-day precision</Typography>\n          </AccordionSummary>\n          <AccordionDetails>\n            <Box style={{ width: \"100%\" }}>\n              <TimeZonePicker value={props.refTimeZone} onChange={onRefTimeZoneChange} timeZones={timeZones} classes={props.classes} />\n              <KeyboardTimePicker\n                value={props.refDate}\n                onChange={onRefTimeChange}\n                format=\"HH:mm\"\n                minutesStep={5}\n                autoOk\n                label=\"Time of birth (local)\"\n                fullWidth\n                className={props.classes.input}\n              />\n            </Box>\n          </AccordionDetails>\n        </Accordion>\n\n      </MuiPickersUtilsProvider>\n    </Box>)\n}\n\n\nfunction TimeZonePicker(props) {\n  const filterOptions = createFilterOptions({\n    stringify: option => option.rawFormat,\n  });\n  return (<Autocomplete\n    id=\"timezone\"\n    value={props.value}\n    onChange={props.onChange}\n    options={props.timeZones}\n    getOptionLabel={(option) => option.name}\n    filterOptions={filterOptions}\n    noOptionsText=\"Try entering a larger city\"\n    fullWidth\n    className={props.classes.input}\n    renderInput={(params) => <TextField {...params} label=\"Birth time zone (search by city)\" />}\n  />);\n}","import React from 'react';\nimport { Sequences } from './Sequences';\n\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport InfoIcon from '@material-ui/icons/Info';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\nexport function SequenceSelector(props) {\n\n  const list = Sequences.map(s =>\n    <SequenceOption\n      key={s.id}\n      sequence={s}\n      sequenceOptions={props.sequenceOptions}\n      setSequenceOption={props.setSequenceOption}\n    />);\n\n  return (\n    <Box>\n      <Typography>What do you care about?</Typography>\n      <List>{list}</List>\n    </Box>);\n}\n\nfunction SequenceOption(props) {\n  const s = props.sequence;\n\n  return (\n    <ListItem key={s.id}\n      onClick={() => props.setSequenceOption(s.id, !props.sequenceOptions.get(s.id))}\n      dense button>\n\n      <ListItemIcon>\n        <Checkbox\n          checked={props.sequenceOptions.get(s.id)}\n          name={s.id}\n          edge=\"start\"\n          tabIndex={-1}\n          disableRipple\n        />\n      </ListItemIcon>\n      <ListItemText primary={s.friendlyName} />\n      <ListItemSecondaryAction>\n        <Tooltip title={s.oeis} placement=\"right\">\n          <IconButton edge=\"end\" aria-label=\"info\"\n            href={\"https://oeis.org/\" + s.oeis}\n            target=\"_blank\">\n            <InfoIcon />\n          </IconButton>\n        </Tooltip>\n      </ListItemSecondaryAction>\n    </ListItem>\n  );\n}","// As defined in https://tools.ietf.org/html/rfc5545\n\nimport React, { useState } from 'react';\n\nimport { DateTime } from \"luxon\";\n\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\n\nimport GetAppIcon from '@material-ui/icons/GetApp';\nimport EditIcon from '@material-ui/icons/Edit';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport TitleIcon from '@material-ui/icons/Title';\nimport EventIcon from '@material-ui/icons/Event';\nimport SubjectIcon from '@material-ui/icons/Subject';\n\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nconst useStyles = makeStyles(theme => ({\n  eventPreview: {\n    minWidth: 275,\n    backgroundColor: '#fafafa'\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  subtitleContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignContent: 'center',\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  description: {\n    whiteSpace: 'pre-line',\n  }\n}));\n\nexport function ICalGenerator(props) {\n  \n  const classes = useStyles();\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n\n  const [open, setOpen] = useState(false);\n  const [titlePattern, setTitlePattern] = useState(\"Today I am %s old!\");\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return <>\n    <Button\n      variant=\"outlined\"\n      color=\"primary\"\n      onClick={handleClickOpen}\n      startIcon={<GetAppIcon />}\n      disabled={props.milestones.length === 0}>\n      Export to calendar\n    </Button>\n    <Dialog fullScreen={fullScreen} open={open} onClose={handleClose}>\n      <DialogTitle id=\"responsive-dialog-title\">Save milestones to your calendar</DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          This will download a file containing all {props.milestones.length} milestones previously listed,\n          which you can then import into your favorite system (\n            <Link href=\"https://support.google.com/calendar/answer/37118\" target=\"_blank\" rel=\"noreferrer\">Google Calendar</Link>, <Link href=\"https://support.apple.com/en-us/guide/calendar/icl1023/mac\" target=\"_blank\" rel=\"noreferrer\">Apple Calendar</Link>, <Link href=\"https://support.microsoft.com/en-us/office/import-calendars-into-outlook-8e8364e1-400e-4c0f-a573-fe76b5a2d379\" target=\"_blank\" rel=\"noreferrer\">Outlook</Link>, etc).<br />\n          If you want to include more or less sequences, <Link href=\"#\" onClick={handleClose}>close this menu</Link> and change your selection.\n        </DialogContentText>\n      </DialogContent>\n      <DialogContent>\n        <EventPreview classes={classes} refDate={props.refDate} milestone={props.milestones[0]} useTimePrecision={props.useTimePrecision} titlePattern={titlePattern} />\n      </DialogContent>\n      <DialogContent>\n        <TextField label=\"Customize Title (%s will be replaced by time span)\" value={titlePattern} onChange={(e) => setTitlePattern(e.target.value)} fullWidth />\n      </DialogContent>\n      <DialogActions>\n        <DownloadButton refDate={props.refDate} milestones={props.milestones} useTimePrecision={props.useTimePrecision} titlePattern={titlePattern} />\n        <Button onClick={handleClose} color=\"primary\" autoFocus>\n          Close\n        </Button>\n      </DialogActions>\n    </Dialog>\n  </>;\n}\n\nfunction DownloadButton(props) {\n  const iCalText = generateCalendar(props.milestones, props.refDate, props.useTimePrecision, props.titlePattern);\n\n  const blob = new Blob([iCalText], { type: 'text/plain' });\n\n  const url = window.URL.createObjectURL(blob);\n\n  return <><Button\n    variant=\"contained\"\n    color=\"primary\"\n    size=\"large\"\n    startIcon={<GetAppIcon />}\n    href={url}\n    download=\"milestones.ics\">\n    Download ICS File\n    </Button>\n    {/*<Typography component=\"pre\" variant=\"body2\">{iCalText}</Typography>*/}\n  </>\n}\n\nfunction EventPreview(props) {\n  const classes = props.classes;\n  const milestone = props.milestone;\n\n  return <Card className={classes.eventPreview} variant=\"outlined\">\n    <CardContent style={{padding:12}}>\n      <Grid container spacing={2}>\n        <Grid item xs={6} className={classes.subtitleContainer}>\n          <Typography className={classes.title} color=\"textSecondary\" align=\"left\">\n            Event Preview\n          </Typography>\n        </Grid>\n        <Grid item xs={6}>\n          <CardActions style={{flexDirection:\"row-reverse\"}}>\n            <Button size=\"small\" disabled startIcon={<DeleteIcon />}>Delete</Button>\n            <Button size=\"small\" disabled startIcon={<EditIcon />}>Edit</Button>\n          </CardActions>\n        </Grid>\n        <Grid item xs={1}>\n          <TitleIcon color=\"disabled\" />\n        </Grid>\n        <Grid item xs={11}>\n          <Typography variant=\"h5\" component=\"h2\">\n            {generateEventTitle(milestone, props.titlePattern)}\n          </Typography>\n        </Grid>\n        <Grid item xs={1}>\n          <EventIcon color=\"disabled\" />\n        </Grid>\n        <Grid item xs={11}>\n          <Typography>\n            {generateReadableDate(milestone.date, props.useTimePrecision)}\n          </Typography>\n        </Grid>\n        <Grid item xs={1}>\n          <SubjectIcon color=\"disabled\" />\n        </Grid>\n        <Grid item xs={11}>\n          <Typography variant=\"body2\" className={classes.description}>\n            {generateEventDescription(milestone, props.refDate, props.useTimePrecision)}\n          </Typography>\n        </Grid>\n      </Grid>\n    </CardContent>\n  </Card>\n}\n\n// https://tools.ietf.org/html/rfc5545#section-3.7 Calendar Properties\nfunction generateCalendar(milestones, refDate, useTimePrecision, titlePattern) {\n  const text = `BEGIN:VCALENDAR\nPRODID:-//Guillaume Labranche//Custom iCalendar Generator//EN\nVERSION:2.0\nX-WR-CALNAME:Milestones\nX-WR-TIMEZONE:${refDate.zoneName}\n${milestones.map(m => generateEvent(m, refDate, useTimePrecision, titlePattern)).join('\\n')}\nEND:VCALENDAR`;\n  return text.replaceAll('\\n', '\\r\\n');\n}\n\n// https://tools.ietf.org/html/rfc5545#section-3.6.1 Event Component\nfunction generateEvent(milestone, refDate, useTimePrecision, titlePattern) {\n\n  return `BEGIN:VEVENT\nUID:${milestone.uid}\nURL:https://gumgl.github.io/milestones/\n${generateDateComponent(\"DTSTAMP\", DateTime.now(), true, true)}\n${generateDateComponent(\"DTSTART\", milestone.date, useTimePrecision, true)}\n${generateTextComponent(\"SUMMARY\", generateEventTitle(milestone, titlePattern))}\n${generateTextComponent(\"DESCRIPTION\", generateEventDescription(milestone, refDate, useTimePrecision))}\nEND:VEVENT`;\n}\n\n// https://tools.ietf.org/html/rfc5545#section-3.3.5 Date-Time\n// https://tools.ietf.org/html/rfc5545#section-3.8.2 Date and Time Component Properties\nfunction generateDateComponent(name, date, useTimePrecision, utc) {\n  const iCalDateTimeFormat = \"yyyyLLdd'T'HHmmss\";\n  const iCalDateFormat = \"yyyyLLdd\";\n\n  if (useTimePrecision) {\n    if (utc)\n      return `${name.toUpperCase()}:${date.setZone(\"utc\").toFormat(iCalDateTimeFormat)}Z`\n    else\n      return `${name.toUpperCase()};TZID=${date.zoneName}:${date.toFormat(iCalDateTimeFormat)}`\n  } else\n    return `${name.toUpperCase()};VALUE=DATE:${date.toFormat(iCalDateFormat)}`\n}\n\n// https://tools.ietf.org/html/rfc5545#section-3.1 Content Lines\n// https://tools.ietf.org/html/rfc5545#section-3.3.11 Text\nfunction generateTextComponent(name, text) {\n  return (name.toUpperCase() + \":\" + text)\n    .replace(/[,;\\\\]/g, '\\\\$&') // Escape commas, semicolons and backslashes\n    .replaceAll('\\n', '\\\\n') // Replace newlines with \\n\n    .match(/(.{1,70})/g) // Split into lines of 70 chars\n    .join('\\n '); // Merge line strings into a single string separated by newlines\n\n  // What if a line-split happens in the middle of an escape sequence? I manually tested it, not an issue.\n}\n\nfunction generateEventTitle(milestone, pattern) {\n  return pattern.replace('%s', milestone.label);\n}\n\nfunction generateEventDescription(milestone, refDate, useTimePrecision) {\n\n  return `On ${generateReadableDate(milestone.date, useTimePrecision)}, exactly ${milestone.label} will have passed `\n    + `since ${generateReadableDate(refDate, useTimePrecision)}.`\n    + `\\n\\nThat's ${milestone.explanation}! Doesn't happen often...`\n}\n\nfunction generateReadableDate(date, useTimePrecision) {\n  const dateFormat = useTimePrecision ? \"DDD 'at' T (ZZZZ)\" : \"DDDD\";\n  return date.toFormat(dateFormat);\n}","import React from 'react';\nimport { Generator, Sequences } from './Sequences';\nimport { ICalGenerator } from './ICalGenerator';\n\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\n\nimport Tooltip from '@material-ui/core/Tooltip';\nimport IconButton from '@material-ui/core/IconButton';\nimport EventIcon from '@material-ui/icons/Event';\nimport FunctionsIcon from '@material-ui/icons/Functions';\n\nimport { DateTime } from \"luxon\";\n\nexport function MilestonesList(props) {\n\n  const computeMilestones = (refDate, sequenceOptions) => {\n    const units = [\"seconds\", \"minutes\", \"hours\", \"days\", \"weeks\", \"months\"];\n    let milestones = [];\n\n    // Poor man's currying\n    const dateFilter = (date, unit, offSetFromNow, isUpperBound) => (item) => {\n      try {\n        const candidate = date.plus({ [unit]: item.value });\n        const limit = DateTime.local().plus(offSetFromNow);\n\n        return !isNaN(candidate) &&\n          (candidate > limit ^ isUpperBound);\n      }\n      catch (error) { // Fix until https://github.com/moment/luxon/pull/906 is accepted and published\n        if (!error instanceof RangeError)\n          throw error;\n      }\n    };\n\n    for (const unit of units)\n      for (const s of Sequences)\n        if (sequenceOptions.get(s.id) === true) {\n          let upperBounded = Generator.takeWhile(\n            dateFilter(refDate, unit, { years: 10 }, true),\n            s.gf());\n\n          let nearFuture = upperBounded.filter(\n            dateFilter(refDate, unit, { months: -1 }, false));\n\n          let milestone = nearFuture.map((item) => {\n            const date = refDate.plus({ [unit]: item.value }).setZone(props.localTimeZone);\n            return {\n              uid: date.toSeconds() + item.value,\n              date: date,\n              label: s.display(item) + \" \" + unit,\n              explanation: s.explain(item),\n              value: item.value\n            }\n          });\n\n          milestones = milestones.concat(milestone);\n        }\n\n    milestones.sort((a, b) => (a.date < b.date ? -1 : a.date > b.date ? 1 : 0));\n\n    return milestones;\n  }\n\n  const milestones = computeMilestones(props.refDate, props.sequenceOptions);\n\n  return <>\n    <List>\n      {milestones.map((milestone) =>\n        <Milestone\n          key={milestone.uid}\n          milestone={milestone}\n          refDate={props.refDate}\n          useTimePrecision={props.useTimePrecision} />)}\n    </List>\n    <ICalGenerator useTimePrecision={props.useTimePrecision}\n      milestones={milestones}\n      refDate={props.refDate} />\n  </>;\n}\n\nfunction Milestone(props) {\n  const milestone = props.milestone;\n\n  const wolframAlphaURL = \"https://www.wolframalpha.com/input/?i=\" + encodeURIComponent(\n    props.useTimePrecision ?\n      props.refDate.toFormat(\"yyyy-LL-dd HH:mm 'UTC'ZZZ\") + \" + \" + milestone.label + \" to \" + milestone.date.toFormat(\"ZZZZZ\") :\n      props.refDate.toFormat(\"yyyy-LL-dd \") + \" + \" + milestone.label\n  );\n\n  return (\n    <ListItem>\n      <ListItemIcon>\n        <EventIcon />\n      </ListItemIcon>\n      <Tooltip title={milestone.explanation} placement=\"bottom\">\n        <ListItemText\n          primary={milestone.label}\n          secondary={milestone.date.toFormat(props.useTimePrecision ? \"DD 'at' T ZZZZ\" : \"'On' DD\")} />\n      </Tooltip>\n      <ListItemSecondaryAction>\n        <Tooltip title=\"Verify with Wolfram|Alpha\" placement=\"right\">\n          <IconButton edge=\"end\" aria-label=\"info\" href={wolframAlphaURL} target=\"_blank\">\n            <FunctionsIcon />\n          </IconButton>\n        </Tooltip>\n      </ListItemSecondaryAction>\n    </ListItem>\n  );\n}","import React, { useState, useEffect, useRef } from 'react';\n\nimport TextField from '@material-ui/core/TextField';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Button from '@material-ui/core/Button';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\nimport ShareIcon from '@material-ui/icons/Share';\n\nimport { useTheme, makeStyles } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { DateTime } from 'luxon';\n\nconst useStyles = makeStyles((theme) => ({\n  margin: {\n    margin: theme.spacing(1),\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n}));\n\nconst [shortDateOnlyFormat, shortDatetimeFormat] = [\"yyyyLLdd\", \"yyyyLLdd'T'HHmm\"];\n\nexport function ShareModal(props) {\n\n  const theme = useTheme();\n  const classes = useStyles();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n\n  const [open, setOpen] = useState(false);\n  const [shareConfig, setShareConfig] = useState(true);\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\n  const [snackbarText, setSnackbarText] = useState(\"\");\n\n  const shareText = shareConfig ? `See the milestones of my life starting on ${props.refDate.toFormat(\"D\")}!`\n    : \"See the cool milestones of your life:\";\n  const shareURL = generateShareURL(props, shareConfig);\n  const shareURLInputRef = useRef();\n\n  // Whenever the share URL changes, select it\n  useEffect(() => {\n    if (shareURLInputRef.current != null) {\n      shareURLInputRef.current.focus();\n      shareURLInputRef.current.select();\n    }\n  }, [shareURL]);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const showSnackbar = (text) => {\n    setSnackbarText(text);\n    setSnackbarOpen(true);\n  };\n\n  const closeSnackbar = () => {\n    setSnackbarOpen(false);\n  };\n\n  const copyToClipboard = (text, success, failure) => {\n    navigator.clipboard.writeText(text).then(success, failure);\n  }\n\n  // TODO: consider not including the text part\n  const webShare = async (text, url) => {\n    try {\n      await navigator.share({ ...{ text, url } });\n      showSnackbar(\"Thanks for sharing!\");\n    } catch (err) {\n      //showSnackbar(\":(\");\n    }\n  }\n\n  return <>\n    <Button\n      variant=\"outlined\"\n      color=\"primary\"\n      onClick={handleClickOpen}\n      startIcon={<ShareIcon />}>\n      Share\n    </Button>\n    <Dialog fullScreen={fullScreen} open={open} onClose={handleClose}>\n      <DialogTitle id=\"responsive-dialog-title\">\n        Share\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText>\n          {shareText}\n        </DialogContentText>\n        <TextField\n          value={shareURL}\n          inputRef={shareURLInputRef}\n          className={classes.margin}\n          autoFocus\n          multiline\n          fullWidth\n          rowsMax={2}\n          InputProps={{\n            onFocus: (event) => {\n              event.preventDefault();\n              const { target } = event;\n              target.focus();\n              target.select();\n            },\n            fontSize: \"small\",\n            endAdornment: (\n              <InputAdornment position=\"end\">\n                <Button color=\"primary\"\n                  onClick={() => {\n                    copyToClipboard(shareURL,\n                      () => showSnackbar(\"URL copied\"),\n                      () => showSnackbar(\"URL failed to copy\"))\n                  }}\n                >Copy</Button>\n                <Button color=\"primary\"\n                  onClick={() => { webShare(shareText, shareURL) }}\n                >Share</Button>\n              </InputAdornment>\n            )\n          }}\n        />\n      </DialogContent>\n      <DialogActions>\n        <FormControlLabel\n          control={<Checkbox checked={shareConfig} onChange={() => setShareConfig(!shareConfig)} />}\n          label=\"Share config\"\n        />\n        <Button onClick={handleClose} color=\"primary\">\n          Close\n        </Button>\n      </DialogActions>\n      <Snackbar\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n        autoHideDuration={3000}\n        open={snackbarOpen}\n        onClose={closeSnackbar}\n        message={snackbarText}\n      />\n    </Dialog>\n  </>\n}\n\nexport function generateShareURL(props, shareConfig) {\n  const url = new URL(window.location.href);\n\n  if (shareConfig) {\n    url.searchParams.set(\"d\", props.refDate.toFormat(props.useTimePrecision ? shortDatetimeFormat : shortDateOnlyFormat));\n    if (props.useTimePrecision)\n      url.searchParams.set(\"z\", props.refTimeZone.name);\n    url.searchParams.set(\"o\", boolArrayToHex(Array.from(props.sequenceOptions.values())));\n  }\n  return url;\n}\n\nexport function parseShareURL(url, setRefDate, setRefTimeZoneByName, setTimePrecision, sequenceOptions, setSequenceOptions) {\n  if (url.searchParams.has(\"d\")) {\n    const useTimePrecision = url.searchParams.get(\"d\").length !== shortDateOnlyFormat.length;\n    const date = DateTime.fromFormat(url.searchParams.get(\"d\"), useTimePrecision ? shortDatetimeFormat : shortDateOnlyFormat);\n    if (date.isValid) {\n      setTimePrecision(useTimePrecision);\n      if (useTimePrecision && url.searchParams.has(\"z\")) {\n        const timeZone = url.searchParams.get(\"z\");\n        setRefTimeZoneByName(timeZone);\n        setRefDate(date.setZone(timeZone, { keepLocalTime: true }));\n      } else {\n        setRefDate(date);\n      }\n    }\n  }\n  if (url.searchParams.has(\"o\")) {\n    const hex = url.searchParams.get(\"o\");\n    if (parseInt(hex, 16).toString(16) === hex)\n      setSequenceOptions(setMapValues(sequenceOptions, hexToBoolArray(hex, sequenceOptions.length, false)));\n  }\n}\n\n/* This function takes an array of booleans (e.g. option selection)\n   and returns a hex string representing it.\n   Note that larger arrays map onto smaller ones preserving the values\n   at the correct positions. */\nfunction boolArrayToHex(arr) {\n  const binaryString = arr.reverse().map(i => (+i).toString()).join(\"\");\n  return parseInt(binaryString, 2).toString(16);\n}\n\nfunction hexToBoolArray(hex, requiredLength = -1, paddingValue = false) {\n  const binaryString = parseInt(hex, 16).toString(2);\n  const arr = binaryString.split('').map(i => i === \"1\" ? true : false).reverse();\n\n  return requiredLength === -1 || arr.length === requiredLength ? arr :\n    arr.length < requiredLength ? arr.concat(Array(requiredLength - arr.length).fill(paddingValue)) :\n      arr.slice(0, requiredLength - 1);\n}\n\nfunction setMapValues(map, values) {\n  const newMap = new Map();\n  const [mapIter, valIter] = [map.keys(), values[Symbol.iterator]()];\n\n  let [key, value] = [mapIter.next(), valIter.next()];\n\n  while (!key.done && !value.done) {\n    newMap.set(key.value, value.value);\n    [key, value] = [mapIter.next(), valIter.next()]\n  }\n  return newMap;\n}","//import './App.css';\nimport React, { useState, useEffect } from 'react';\nimport { Sequences } from './Sequences';\nimport { DateTimeSelector } from './DateTimeSelector';\nimport { SequenceSelector } from './SequenceSelector';\nimport { MilestonesList } from './MilestonesList';\nimport { ShareModal, parseShareURL } from './Share';\n\nimport { DateTime } from \"luxon\";\nimport { getTimeZones } from \"@vvo/tzdb\";\n\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst localTimeZone = Intl.DateTimeFormat().resolvedOptions().timeZone;\nconst timeZones = getTimeZones();\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(3),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  root: {\n    width: '100%',\n    backgroundColor: theme.palette.background.paper,\n  },\n}));\n\nexport default function App() {\n\n  const classes = useStyles();\n\n  const [refDate, setRefDate] = useState(DateTime.local(1969, 7, 24));\n\n  const [refTimeZone, setRefTimeZone] = useState(\n    timeZones.find(zone => zone.name === localTimeZone));\n\n  const setRefTimeZoneByName = (name) => {\n    setRefTimeZone(timeZones.find(zone => zone.name === name));\n  };\n\n  const [useTimePrecision, setUseTimePrecision] = useState(false);\n\n  const [sequenceOptions, setSequenceOption, setSequenceOptions] = useMapState(\n    new Map(Sequences.map(s => [s.id, false]))\n  );\n\n  useEffect(() => {\n    const url = new URL(window.location.href);\n    parseShareURL(url, setRefDate, setRefTimeZoneByName, setUseTimePrecision, sequenceOptions, setSequenceOptions);\n    url.search = \"\";\n    window.history.replaceState(null, '', url);\n  }, []); // Run once (since we declare no dependency)\n\n  return (\n    <React.StrictMode>\n      <Container component=\"main\" maxWidth=\"xs\" className={classes.paper}>\n        <CssBaseline />\n          <DateTimeSelector {...{ refDate, setRefDate, refTimeZone, setRefTimeZone, useTimePrecision, setUseTimePrecision, localTimeZone, classes }} />\n\n          <SequenceSelector {...{ sequenceOptions, setSequenceOption }} />\n\n          <MilestonesList {...{ refDate, useTimePrecision, sequenceOptions, localTimeZone }} />\n\n          <ShareModal {...{ refDate, refTimeZone, useTimePrecision, sequenceOptions }} />\n        <Box mt={8}>\n          <Footer />\n        </Box>\n      </Container>\n    </React.StrictMode>\n  );\n}\n\nfunction Footer() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      © 2021 Guillaume Labranche <br />\n      <script type=\"text/javascript\" src=\"https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js\" data-name=\"bmc-button\" data-slug=\"gumgl\" data-color=\"#3f51b5\" data-emoji=\"🍕\" data-font=\"Inter\" data-text=\"Buy me a pizza slice\" data-outline-color=\"#ffffff\" data-font-color=\"#ffffff\" data-coffee-color=\"#FFDD00\" ></script>\n    </Typography>\n  );\n}\n\nfunction useMapState(initValue) {\n  const [map, setMap] = useState(initValue);\n\n  const setValue = (key, value) => {\n    setMap(new Map(map.set(key, value)));\n  }\n\n  return [map, setValue, setMap];\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}